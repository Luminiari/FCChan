@page
@model EventsModel
@using KupoNutsBot.Events;
@{
	ViewData["Title"] = "Home page";
}

<!-- Button trigger modal -->
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
	Launch demo modal
</button>

<table class="table table-striped table-dark">
	<thead>
		<tr>
			<th scope="col">Name</th>
			<th scope="col">Description</th>
			<th scope="col">Next Occurance</th>
		</tr>
	</thead>
	<tbody>
		@foreach (Event item in Model.Events)
		{
			<tr>
				<td>
					@Html.DisplayFor(modelItem => item.Name)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.Description)
				</td>
				<td>
					@Model.GetNextOccurance(item)
				</td>
				<td>
					<form asp-page-handler="editEvent" method="post">
						<button class="btn btn-secondary">Edit</button>
					</form>
				</td>
			</tr>
		}
	</tbody>
</table>

<form asp-page-handler="event" method="post">
	<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="@Model.ShowPopup">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h3 class="modal-title" id="exampleModalLabel">Edit Event</h3>
				</div>
				<div class="modal-body">

					<!-- Name -->
					<div class="form-group col-md-12">
						<label for="eventName">Name</label>
						<input type="text" class="form-control" id="eventName" name="eventName" placeholder="Enter event name">
					</div>

					<!--  Description -->
					<div class="form-group col-md-12">
						<label for="eventDesc">Description</label>
						<textarea class="form-control" id="eventDesc" name="eventDesc" rows="5"></textarea>
					</div>

					<!--  Channel -->
					<div class="form-group col-md-6">
						<label for="channelSelect">Discord Channel</label>
						<select class="form-control" id="channelSelect" name="channelSelect" asp-items="@Model.ChannelList"></select>
					</div>

					<!--  Color -->
					<div class="form-group col-md-6">
						<label for="colorSelect">Color</label>
						<select class="form-control" id="colorSelect" name="colorSelect" asp-items="@Model.ColorList"></select>
					</div>

					<!--  Date -->
					<div class="form-group col-md-4">
						<label for="eventDate">Date</label>
						<input type="date" class="form-control dateTime" id="eventDate" name="eventDate">
					</div>

					<!--  time -->
					<div class="form-group col-md-4">
						<label for="eventTime">Time</label>
						<input type="time" class="form-control dateTime" id="eventTime" name="eventTime">
					</div>

					<!--  Duration -->
					<div class="form-group col-md-4">
						<label for="eventDuration">Duration</label>
						<input type="time" class="form-control dateTime" id="eventDuration" name="eventDuration">
					</div>


					<!--  Repeat Days -->
					<div class="form-row">
						<div class="form-check form-check-inline inline">
							<input class="form-check-input" type="checkbox" id="monCheckbox" name="repeatMonday" value="true">
							<label class="form-check-label" for="monCheckbox">Mon</label>
						</div>
						<div class="form-check form-check-inline inline">
							<input class="form-check-input" type="checkbox" id="tueCheckbox" name="repeatTuesday" value="true">
							<label class="form-check-label" for="tueCheckbox">Tue</label>
						</div>
						<div class="form-check form-check-inline inline">
							<input class="form-check-input" type="checkbox" id="wedCheckbox" name="repeatWednesday" value="true">
							<label class="form-check-label" for="wedCheckbox">Wed</label>
						</div>
						<div class="form-check form-check-inline inline">
							<input class="form-check-input" type="checkbox" id="thuCheckbox" name="repeatthursday" value="true">
							<label class="form-check-label" for="thuCheckbox">Thu</label>
						</div>
						<div class="form-check form-check-inline inline">
							<input class="form-check-input" type="checkbox" id="friCheckbox" name="repeatFriday" value="true">
							<label class="form-check-label" for="friCheckbox">Fri</label>
						</div>
						<div class="form-check form-check-inline inline">
							<input class="form-check-input" type="checkbox" id="satCheckbox" name="repeatSaturday" value="true">
							<label class="form-check-label" for="satCheckbox">Sat</label>
						</div>
						<div class="form-check form-check-inline inline">
							<input class="form-check-input" type="checkbox" id="sunCheckbox" name="repeatSunday" value="true">
							<label class="form-check-label" for="sunCheckbox">Sun</label>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button class="btn btn-primary">Save</button>
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
				</div>
			</div>

		</div>

	</div>
</form>
